/**********************************************************************************************************************
 *  FILE DESCRIPTION
 *  -----------------------------------------------------------------------------------------------------------------*/
/**        \file  IntCrtl.c
 *        \brief  Nested Vector Interrupt Controller Driver
 *
 *      \details  The Driver Configure All MCU interrupts Priority into gorups and subgroups
 *                Enable NVIC Interrupt Gate for Peripherals
 *
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  INCLUDES
 *********************************************************************************************************************/
#include "Std_Types.h"
#include "C:\Mohamed files\New folder\ERU SUB\ARM Egyfwd\ARM_Egyfwd\Src\Mcal\Timer\inc\Timer.h"
#include "Mcu_Hw.h"

/**********************************************************************************************************************
*  LOCAL MACROS CONSTANT\FUNCTION
*********************************************************************************************************************/	

/**********************************************************************************************************************
 *  LOCAL DATA 
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL DATA
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTION PROTOTYPES
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  LOCAL FUNCTIONS
 *********************************************************************************************************************/

/**********************************************************************************************************************
 *  GLOBAL FUNCTIONS
 *********************************************************************************************************************/
void RESET_systick (void)
{
	NVIC_ST_CTRL_R = 0;
	// MAX = 0xFFFFFF = 16777215 (DEC) = 1.04sec
	NVIC_ST_RELOAD_R = 0;
	NVIC_ST_CURRENT_R = 0;
	//NVIC_ST_CTRL_R = 5;
	
}
void DelayFun(uint8 x)
{
	RESET_systick();
	NVIC_ST_RELOAD_R = 0xFFFFFF;
	NVIC_ST_CTRL_R = 5;	
	for (uint8 i = 0; i<x ; i++)
	{
		while( (NVIC_ST_CTRL_R&0x10000) == 0){}
	}
}	


/**********************************************************************************************************************
 *  END OF FILE: Timer.c
 *********************************************************************************************************************/
